{"ast":null,"code":"import _slicedToArray from\"H:/DarkSaber/bingo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{DBConfig}from\"./DBConfig\";import{initDB}from\"react-indexed-db\";import{useIndexedDB}from\"react-indexed-db\";import Groups from\"./components/Groups\";import NewGroupForm from\"./components/NewGroupForm\";import MenuIcon from\"./components/MenuIcon\";import{Container,Typography}from\"@mui/material\";import{useSnackbar}from\"notistack\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";initDB(DBConfig);export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),groups=_useState2[0],setGroups=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showForm=_useState4[0],setShowForm=_useState4[1];var db=useIndexedDB(\"Groups\");var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var getAllGroups=function getAllGroups(){db.getAll().then(function(resp){setGroups(resp);if(resp.length===0){setShowForm(true);}},function(error){return console.error(error);});};useEffect(function(){getAllGroups();},[]);var addGroup=function addGroup(_ref){var groupName=_ref.groupName,groupCount=_ref.groupCount,groupMinNum=_ref.groupMinNum;try{db.add({name:groupName,count:shuffle(groupCount,groupMinNum),next:0,min:groupMinNum,total:groupCount,expanded:true}).then(function(resp){enqueueSnackbar(\"Added new group!\",{variant:\"success\"});getAllGroups();setShowForm(false);},function(error){enqueueSnackbar(\"\".concat(error.target.error),{variant:\"error\"});throw new Error(error.target.error);});}catch(error){console.error(error);}};function shuffle(number,minNum){// create array of numbers of 'number' length\nvar array=Array.from({length:Number(number)+Number(minNum)-1},function(_,i){return i+1;}),i=array.length,j=0,temp;while(i--){j=Math.floor(Math.random()*(i+1));// swap randomly chosen element with current element\ntemp=array[i];array[i]=array[j];array[j]=temp;}return array.filter(function(num){return num>=minNum;});}var removeGroup=function removeGroup(id){try{db.deleteRecord(id).then(function(resp){enqueueSnackbar(\"Removed group.\",{variant:\"success\"});getAllGroups();},function(error){enqueueSnackbar(\"\".concat(error.target.error),{variant:\"error\"});throw new Error(error.target.error);});}catch(error){}};var updateGroup=function updateGroup(recordObj){db.update(recordObj).then(function(resp){getAllGroups();},function(error){enqueueSnackbar(\"\".concat(error.target.error),{variant:\"error\"});throw new Error(error.target.error);});};var resetGroup=function resetGroup(_ref2){var id=_ref2.id,name=_ref2.name,total=_ref2.total,min=_ref2.min,next=_ref2.next,expanded=_ref2.expanded;updateGroup({id:id,name:name,total:total,min:min,expanded:expanded,count:shuffle(total,min),next:0});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"white\",mb:4,children:\"Made with \\u2764 by Mein Mann, Wizard\"}),/*#__PURE__*/_jsx(MenuIcon,{toggle:function toggle(){return setShowForm(!showForm);},show:showForm}),/*#__PURE__*/_jsx(NewGroupForm,{db:db,show:showForm,toggle:function toggle(){return setShowForm(!showForm);},addGroup:addGroup}),/*#__PURE__*/_jsx(Container,{children:groups.map(function(group){return/*#__PURE__*/_jsx(Groups,{group:group,removeGroup:removeGroup,updateGroup:updateGroup,resetGroup:resetGroup},group.id);})})]});}","map":{"version":3,"names":["React","useEffect","useState","DBConfig","initDB","useIndexedDB","Groups","NewGroupForm","MenuIcon","Container","Typography","useSnackbar","App","groups","setGroups","showForm","setShowForm","db","enqueueSnackbar","getAllGroups","getAll","then","resp","length","error","console","addGroup","groupName","groupCount","groupMinNum","add","name","count","shuffle","next","min","total","expanded","variant","target","Error","number","minNum","array","Array","from","Number","_","i","j","temp","Math","floor","random","filter","num","removeGroup","id","deleteRecord","updateGroup","recordObj","update","resetGroup","map","group"],"sources":["H:/DarkSaber/bingo/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { DBConfig } from \"./DBConfig\";\nimport { initDB } from \"react-indexed-db\";\nimport { useIndexedDB } from \"react-indexed-db\";\nimport Groups from \"./components/Groups\";\nimport NewGroupForm from \"./components/NewGroupForm\";\nimport MenuIcon from \"./components/MenuIcon\";\nimport { Container, Typography } from \"@mui/material\";\nimport { useSnackbar } from \"notistack\";\n\ninitDB(DBConfig);\n\nexport default function App() {\n  const [groups, setGroups] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const db = useIndexedDB(\"Groups\");\n  const { enqueueSnackbar } = useSnackbar();\n\n  const getAllGroups = () => {\n    db.getAll().then(\n      (resp) => {\n        setGroups(resp);\n        if (resp.length === 0) {\n          setShowForm(true);\n        }\n      },\n      (error) => console.error(error)\n    );\n  };\n\n  useEffect(() => {\n    getAllGroups();\n  }, []);\n\n  const addGroup = ({ groupName, groupCount, groupMinNum }) => {\n    try {\n      db.add({\n        name: groupName,\n        count: shuffle(groupCount, groupMinNum),\n        next: 0,\n        min: groupMinNum,\n        total: groupCount,\n        expanded: true,\n      }).then(\n        (resp) => {\n          enqueueSnackbar(\"Added new group!\", { variant: \"success\" });\n          getAllGroups();\n          setShowForm(false);\n        },\n        (error) => {\n          enqueueSnackbar(`${error.target.error}`, { variant: \"error\" });\n          throw new Error(error.target.error);\n        }\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  function shuffle(number, minNum) {\n    // create array of numbers of 'number' length\n    let array = Array.from(\n        { length: Number(number) + Number(minNum) - 1 },\n        (_, i) => i + 1\n      ),\n      i = array.length,\n      j = 0,\n      temp;\n    while (i--) {\n      j = Math.floor(Math.random() * (i + 1));\n      // swap randomly chosen element with current element\n      temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array.filter((num) => num >= minNum);\n  }\n\n  const removeGroup = (id) => {\n    try {\n      db.deleteRecord(id).then(\n        (resp) => {\n          enqueueSnackbar(\"Removed group.\", { variant: \"success\" });\n          getAllGroups();\n        },\n        (error) => {\n          enqueueSnackbar(`${error.target.error}`, { variant: \"error\" });\n          throw new Error(error.target.error);\n        }\n      );\n    } catch (error) {}\n  };\n\n  const updateGroup = (recordObj) => {\n    db.update(recordObj).then(\n      (resp) => {\n        getAllGroups();\n      },\n      (error) => {\n        enqueueSnackbar(`${error.target.error}`, { variant: \"error\" });\n        throw new Error(error.target.error);\n      }\n    );\n  };\n\n  const resetGroup = ({ id, name, total, min, next, expanded }) => {\n    updateGroup({\n      id,\n      name,\n      total,\n      min,\n      expanded,\n      count: shuffle(total, min),\n      next: 0,\n    });\n  };\n\n  return (\n    <>\n      <Typography variant=\"body2\" color=\"white\" mb={4}>\n        Made with ‚ù§ by Mein Mann, Wizard\n      </Typography>\n      <MenuIcon toggle={() => setShowForm(!showForm)} show={showForm} />\n      <NewGroupForm\n        db={db}\n        show={showForm}\n        toggle={() => setShowForm(!showForm)}\n        addGroup={addGroup}\n      />\n      <Container>\n        {groups.map((group) => (\n          <Groups\n            key={group.id}\n            group={group}\n            removeGroup={removeGroup}\n            updateGroup={updateGroup}\n            resetGroup={resetGroup}\n          />\n        ))}\n      </Container>\n    </>\n  );\n}\n"],"mappings":"wGAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,YAAY,CACrC,OAASC,MAAM,KAAQ,kBAAkB,CACzC,OAASC,YAAY,KAAQ,kBAAkB,CAC/C,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,aAAY,KAAM,2BAA2B,CACpD,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,OAASC,SAAS,CAAEC,UAAU,KAAQ,eAAe,CACrD,OAASC,WAAW,KAAQ,WAAW,CAAC,6IAExCP,MAAM,CAACD,QAAQ,CAAC,CAEhB,cAAe,SAASS,IAAG,EAAG,CAC5B,cAA4BV,QAAQ,CAAC,EAAE,CAAC,wCAAjCW,MAAM,eAAEC,SAAS,eACxB,eAAgCZ,QAAQ,CAAC,KAAK,CAAC,yCAAxCa,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,GAAE,CAAGZ,YAAY,CAAC,QAAQ,CAAC,CACjC,iBAA4BM,WAAW,EAAE,CAAjCO,eAAe,cAAfA,eAAe,CAEvB,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBF,EAAE,CAACG,MAAM,EAAE,CAACC,IAAI,CACd,SAACC,IAAI,CAAK,CACRR,SAAS,CAACQ,IAAI,CAAC,CACf,GAAIA,IAAI,CAACC,MAAM,GAAK,CAAC,CAAE,CACrBP,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,CACD,SAACQ,KAAK,QAAKC,QAAO,CAACD,KAAK,CAACA,KAAK,CAAC,GAChC,CACH,CAAC,CAEDvB,SAAS,CAAC,UAAM,CACdkB,YAAY,EAAE,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMO,SAAQ,CAAG,QAAXA,SAAQ,MAA+C,IAAzCC,UAAS,MAATA,SAAS,CAAEC,UAAU,MAAVA,UAAU,CAAEC,WAAW,MAAXA,WAAW,CACpD,GAAI,CACFZ,EAAE,CAACa,GAAG,CAAC,CACLC,IAAI,CAAEJ,SAAS,CACfK,KAAK,CAAEC,OAAO,CAACL,UAAU,CAAEC,WAAW,CAAC,CACvCK,IAAI,CAAE,CAAC,CACPC,GAAG,CAAEN,WAAW,CAChBO,KAAK,CAAER,UAAU,CACjBS,QAAQ,CAAE,IACZ,CAAC,CAAC,CAAChB,IAAI,CACL,SAACC,IAAI,CAAK,CACRJ,eAAe,CAAC,kBAAkB,CAAE,CAAEoB,OAAO,CAAE,SAAU,CAAC,CAAC,CAC3DnB,YAAY,EAAE,CACdH,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CACD,SAACQ,KAAK,CAAK,CACTN,eAAe,WAAIM,KAAK,CAACe,MAAM,CAACf,KAAK,EAAI,CAAEc,OAAO,CAAE,OAAQ,CAAC,CAAC,CAC9D,KAAM,IAAIE,MAAK,CAAChB,KAAK,CAACe,MAAM,CAACf,KAAK,CAAC,CACrC,CAAC,CACF,CACH,CAAE,MAAOA,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAED,QAASS,QAAO,CAACQ,MAAM,CAAEC,MAAM,CAAE,CAC/B;AACA,GAAIC,MAAK,CAAGC,KAAK,CAACC,IAAI,CAClB,CAAEtB,MAAM,CAAEuB,MAAM,CAACL,MAAM,CAAC,CAAGK,MAAM,CAACJ,MAAM,CAAC,CAAG,CAAE,CAAC,CAC/C,SAACK,CAAC,CAAEC,CAAC,QAAKA,EAAC,CAAG,CAAC,GAChB,CACDA,CAAC,CAAGL,KAAK,CAACpB,MAAM,CAChB0B,CAAC,CAAG,CAAC,CACLC,IAAI,CACN,MAAOF,CAAC,EAAE,CAAE,CACVC,CAAC,CAAGE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,EAAIL,CAAC,CAAG,CAAC,CAAC,CAAC,CACvC;AACAE,IAAI,CAAGP,KAAK,CAACK,CAAC,CAAC,CACfL,KAAK,CAACK,CAAC,CAAC,CAAGL,KAAK,CAACM,CAAC,CAAC,CACnBN,KAAK,CAACM,CAAC,CAAC,CAAGC,IAAI,CACjB,CACA,MAAOP,MAAK,CAACW,MAAM,CAAC,SAACC,GAAG,QAAKA,IAAG,EAAIb,MAAM,GAAC,CAC7C,CAEA,GAAMc,YAAW,CAAG,QAAdA,YAAW,CAAIC,EAAE,CAAK,CAC1B,GAAI,CACFxC,EAAE,CAACyC,YAAY,CAACD,EAAE,CAAC,CAACpC,IAAI,CACtB,SAACC,IAAI,CAAK,CACRJ,eAAe,CAAC,gBAAgB,CAAE,CAAEoB,OAAO,CAAE,SAAU,CAAC,CAAC,CACzDnB,YAAY,EAAE,CAChB,CAAC,CACD,SAACK,KAAK,CAAK,CACTN,eAAe,WAAIM,KAAK,CAACe,MAAM,CAACf,KAAK,EAAI,CAAEc,OAAO,CAAE,OAAQ,CAAC,CAAC,CAC9D,KAAM,IAAIE,MAAK,CAAChB,KAAK,CAACe,MAAM,CAACf,KAAK,CAAC,CACrC,CAAC,CACF,CACH,CAAE,MAAOA,KAAK,CAAE,CAAC,CACnB,CAAC,CAED,GAAMmC,YAAW,CAAG,QAAdA,YAAW,CAAIC,SAAS,CAAK,CACjC3C,EAAE,CAAC4C,MAAM,CAACD,SAAS,CAAC,CAACvC,IAAI,CACvB,SAACC,IAAI,CAAK,CACRH,YAAY,EAAE,CAChB,CAAC,CACD,SAACK,KAAK,CAAK,CACTN,eAAe,WAAIM,KAAK,CAACe,MAAM,CAACf,KAAK,EAAI,CAAEc,OAAO,CAAE,OAAQ,CAAC,CAAC,CAC9D,KAAM,IAAIE,MAAK,CAAChB,KAAK,CAACe,MAAM,CAACf,KAAK,CAAC,CACrC,CAAC,CACF,CACH,CAAC,CAED,GAAMsC,WAAU,CAAG,QAAbA,WAAU,OAAiD,IAA3CL,GAAE,OAAFA,EAAE,CAAE1B,IAAI,OAAJA,IAAI,CAAEK,KAAK,OAALA,KAAK,CAAED,GAAG,OAAHA,GAAG,CAAED,IAAI,OAAJA,IAAI,CAAEG,QAAQ,OAARA,QAAQ,CACxDsB,WAAW,CAAC,CACVF,EAAE,CAAFA,EAAE,CACF1B,IAAI,CAAJA,IAAI,CACJK,KAAK,CAALA,KAAK,CACLD,GAAG,CAAHA,GAAG,CACHE,QAAQ,CAARA,QAAQ,CACRL,KAAK,CAAEC,OAAO,CAACG,KAAK,CAAED,GAAG,CAAC,CAC1BD,IAAI,CAAE,CACR,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,wCACE,KAAC,UAAU,EAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAE,CAAE,UAAC,uCAEjD,EAAa,cACb,KAAC,QAAQ,EAAC,MAAM,CAAE,wBAAMlB,YAAW,CAAC,CAACD,QAAQ,CAAC,EAAC,CAAC,IAAI,CAAEA,QAAS,EAAG,cAClE,KAAC,YAAY,EACX,EAAE,CAAEE,EAAG,CACP,IAAI,CAAEF,QAAS,CACf,MAAM,CAAE,wBAAMC,YAAW,CAAC,CAACD,QAAQ,CAAC,EAAC,CACrC,QAAQ,CAAEW,QAAS,EACnB,cACF,KAAC,SAAS,WACPb,MAAM,CAACkD,GAAG,CAAC,SAACC,KAAK,qBAChB,KAAC,MAAM,EAEL,KAAK,CAAEA,KAAM,CACb,WAAW,CAAER,WAAY,CACzB,WAAW,CAAEG,WAAY,CACzB,UAAU,CAAEG,UAAW,EAJlBE,KAAK,CAACP,EAAE,CAKb,EACH,CAAC,EACQ,GACX,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}